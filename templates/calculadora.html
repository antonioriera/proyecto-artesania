{# extendemos nuestra pagina del codigo base de la plataforma, el cual nos trae automaticamente el header y el footer #}
{% extends 'base.html' %}

{# definimos el titulo de la pagina en el bloque declarado en al archivo base.html #}
{% block title %}Calculadora{% endblock %}

{# definimos el bloque de contenido de la pagina declarado en al archivo base.html #}
{% block content %}
{# comenzamos a construir el contenido de nuestra pagina#}


<div>
    <div class="min-h-screen flex flex-col content-center justify-center bg-white">
        <div class="bg-gray-200 mx-auto max-w-md py-8 px-10 shadow rounded-lg">
            <div class="mb-4">
                <div class="hover-text">
                    <div>
                        <img src="{{ url_for('static', filename='pregunta.png') }}" class="w-8" alt="Logo"/>
                        
                        <span class="tooltip-text" id="#top-tooltip">Esta calculadora es una herramienta para realizar un calculo sugerido para la venta de cada uno de tus productos, donde debes ingresar el costo de la materia prima, y pordrás calcular el costo al que puedes vender tu producto el base al porcentaje de ganancia que deseas obtener.</span>
                    </div>
                </div>
                <h2 class="text-2xl content-center font-bold">CALCULADORA</h2>
            </div>
            
            <div action="">
                <h1 class="text-lg text-gray-400">Calcular precio unitario de venta</h1>
                <div class="mb-4">
                    <input type="number" placeholder="Costo de Materiales" id="costo_fijo" class="appearance-none block w-full px-4 py-3 leading-tight text-gray-700 bg-gray-50 focus:bg-white border border-gray-200 focus:border-gray-500 rounded focus:outline-none">
                </div>
                <div class="mb-6">
                    <button onclick="calcularTotal()" class="inline-block w-full px-8 py-4 leading-none text-white bg-[#08254B] hover:bg-indigo-900 font-semibold rounded shadow">Calcular</button>
                </div>

                <div>
                    <p id="precio_unitario"><strong>Costo unitario de producción</strong>  = </p>
                    <p id="precio_sugerido_30"><strong>Precio sugerido más el 30%</strong> = </p>
                    <p id="precio_sugerido_50"><strong>Precio sugerido más el 50%</strong> = </p>
                </div>
            </div>
        </div>
    </div>
</div>

{# finalizamos la definicion del bloque de contenido de la pagina declarado en al archivo base.html #}
{% endblock %}

{# definimos el bloque de Scripts de la pagina declarado en al archivo base.html #}
{% block script %}
  <script src="scripts.js"></script>
<script>

    function calcularTotal(){

        let costo_fijo = parseInt(document.getElementById("costo_fijo").value);
        
        let porcentaje_costos_variables = costo_fijo * (30 / 100)
    
        let precio_unitario = costo_fijo + porcentaje_costos_variables
            
        let precio_sugerido_30 = precio_unitario + precio_unitario *(30/100)
        
        let precio_sugerido_50 = precio_unitario + precio_unitario *(50/100)
    
        
        elemento_p = document.getElementById("precio_unitario").innerHTML = `<strong>Costo unitario de producción = <p class="text-emerald-600">${precio_unitario}</p></strong> `
        elemento_a = document.getElementById("precio_sugerido_30").innerHTML = `<strong>Precio sugerido más el 30% = <p class="text-emerald-600"> ${precio_sugerido_30}</p></strong>`
        elemento_b = document.getElementById("precio_sugerido_50").innerHTML = `<strong>Precio sugerido más el 50% = <p class="text-emerald-600">${precio_sugerido_50}</p></strong>`
    }   
</script>
{# finalizamos la definicion del bloque de Scripts de la pagina declarado en al archivo base.html #}
{% endblock %}